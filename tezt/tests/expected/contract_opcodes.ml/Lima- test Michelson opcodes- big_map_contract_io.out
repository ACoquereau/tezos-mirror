
./octez-client --mode mockup run script michelson_test_scripts/opcodes/get_big_map_value.tz on storage '(Pair { Elt "hello" "hi" } None)' and input '"hello"' --trace-stack
storage
  (Pair 4 (Some "hi"))
emitted operations
  
big_map diff
  New map(4) of type (big_map string string)
  Set map(4)["hello"] to "hi"
trace
  - location: 12 (remaining gas: 1039987.386 units remaining)
    [ (Pair "hello" { Elt "hello" "hi" } None) ]
  - location: 12 (remaining gas: 1039987.376 units remaining)
    [ (Pair "hello" { Elt "hello" "hi" } None)
      (Pair "hello" { Elt "hello" "hi" } None) ]
  - location: 13 (remaining gas: 1039987.366 units remaining)
    [ "hello"
      (Pair "hello" { Elt "hello" "hi" } None) ]
  - location: 14 (remaining gas: 1039987.366 units remaining)
    [ (Pair "hello" { Elt "hello" "hi" } None) ]
  - location: 17 (remaining gas: 1039987.356 units remaining)
    [ (Pair { Elt "hello" "hi" } None) ]
  - location: 18 (remaining gas: 1039987.346 units remaining)
    [ { Elt "hello" "hi" } ]
  - location: 19 (remaining gas: 1039987.336 units remaining)
    [ { Elt "hello" "hi" }
      { Elt "hello" "hi" } ]
  - location: 14 (remaining gas: 1039987.311 units remaining)
    [ "hello"
      { Elt "hello" "hi" }
      { Elt "hello" "hi" } ]
  - location: 20 (remaining gas: 1039986.555 units remaining)
    [ (Some "hi")
      { Elt "hello" "hi" } ]
  - location: 21 (remaining gas: 1039986.545 units remaining)
    [ { Elt "hello" "hi" }
      (Some "hi") ]
  - location: 22 (remaining gas: 1039986.535 units remaining)
    [ (Pair { Elt "hello" "hi" } (Some "hi")) ]
  - location: 23 (remaining gas: 1039986.525 units remaining)
    [ {}
      (Pair { Elt "hello" "hi" } (Some "hi")) ]
  - location: 25 (remaining gas: 1039986.515 units remaining)
    [ (Pair {} { Elt "hello" "hi" } (Some "hi")) ]


./octez-client --mode mockup run script michelson_test_scripts/opcodes/get_big_map_value.tz on storage '(Pair { Elt "hello" "hi" } None)' and input '""' --trace-stack
storage
  (Pair 4 None)
emitted operations
  
big_map diff
  New map(4) of type (big_map string string)
  Set map(4)["hello"] to "hi"
trace
  - location: 12 (remaining gas: 1039987.436 units remaining)
    [ (Pair "" { Elt "hello" "hi" } None) ]
  - location: 12 (remaining gas: 1039987.426 units remaining)
    [ (Pair "" { Elt "hello" "hi" } None)
      (Pair "" { Elt "hello" "hi" } None) ]
  - location: 13 (remaining gas: 1039987.416 units remaining)
    [ ""
      (Pair "" { Elt "hello" "hi" } None) ]
  - location: 14 (remaining gas: 1039987.416 units remaining)
    [ (Pair "" { Elt "hello" "hi" } None) ]
  - location: 17 (remaining gas: 1039987.406 units remaining)
    [ (Pair { Elt "hello" "hi" } None) ]
  - location: 18 (remaining gas: 1039987.396 units remaining)
    [ { Elt "hello" "hi" } ]
  - location: 19 (remaining gas: 1039987.386 units remaining)
    [ { Elt "hello" "hi" }
      { Elt "hello" "hi" } ]
  - location: 14 (remaining gas: 1039987.361 units remaining)
    [ ""
      { Elt "hello" "hi" }
      { Elt "hello" "hi" } ]
  - location: 20 (remaining gas: 1039986.661 units remaining)
    [ None
      { Elt "hello" "hi" } ]
  - location: 21 (remaining gas: 1039986.651 units remaining)
    [ { Elt "hello" "hi" }
      None ]
  - location: 22 (remaining gas: 1039986.641 units remaining)
    [ (Pair { Elt "hello" "hi" } None) ]
  - location: 23 (remaining gas: 1039986.631 units remaining)
    [ {}
      (Pair { Elt "hello" "hi" } None) ]
  - location: 25 (remaining gas: 1039986.621 units remaining)
    [ (Pair {} { Elt "hello" "hi" } None) ]


./octez-client --mode mockup run script michelson_test_scripts/opcodes/get_big_map_value.tz on storage '(Pair { Elt "1" "one" ; Elt "2" "two" } None)' and input '"1"' --trace-stack
storage
  (Pair 4 (Some "one"))
emitted operations
  
big_map diff
  New map(4) of type (big_map string string)
  Set map(4)["2"] to "two"
  Set map(4)["1"] to "one"
trace
  - location: 12 (remaining gas: 1039986.474 units remaining)
    [ (Pair "1" { Elt "1" "one" ; Elt "2" "two" } None) ]
  - location: 12 (remaining gas: 1039986.464 units remaining)
    [ (Pair "1" { Elt "1" "one" ; Elt "2" "two" } None)
      (Pair "1" { Elt "1" "one" ; Elt "2" "two" } None) ]
  - location: 13 (remaining gas: 1039986.454 units remaining)
    [ "1"
      (Pair "1" { Elt "1" "one" ; Elt "2" "two" } None) ]
  - location: 14 (remaining gas: 1039986.454 units remaining)
    [ (Pair "1" { Elt "1" "one" ; Elt "2" "two" } None) ]
  - location: 17 (remaining gas: 1039986.444 units remaining)
    [ (Pair { Elt "1" "one" ; Elt "2" "two" } None) ]
  - location: 18 (remaining gas: 1039986.434 units remaining)
    [ { Elt "1" "one" ; Elt "2" "two" } ]
  - location: 19 (remaining gas: 1039986.424 units remaining)
    [ { Elt "1" "one" ; Elt "2" "two" }
      { Elt "1" "one" ; Elt "2" "two" } ]
  - location: 14 (remaining gas: 1039986.399 units remaining)
    [ "1"
      { Elt "1" "one" ; Elt "2" "two" }
      { Elt "1" "one" ; Elt "2" "two" } ]
  - location: 20 (remaining gas: 1039985.687 units remaining)
    [ (Some "one")
      { Elt "1" "one" ; Elt "2" "two" } ]
  - location: 21 (remaining gas: 1039985.677 units remaining)
    [ { Elt "1" "one" ; Elt "2" "two" }
      (Some "one") ]
  - location: 22 (remaining gas: 1039985.667 units remaining)
    [ (Pair { Elt "1" "one" ; Elt "2" "two" } (Some "one")) ]
  - location: 23 (remaining gas: 1039985.657 units remaining)
    [ {}
      (Pair { Elt "1" "one" ; Elt "2" "two" } (Some "one")) ]
  - location: 25 (remaining gas: 1039985.647 units remaining)
    [ (Pair {} { Elt "1" "one" ; Elt "2" "two" } (Some "one")) ]


./octez-client --mode mockup run script michelson_test_scripts/opcodes/update_big_map.tz on storage '(Pair { Elt "1" "one" ; Elt "2" "two" } Unit)' and input '{}' --trace-stack
storage
  (Pair 4 Unit)
emitted operations
  
big_map diff
  New map(4) of type (big_map string string)
  Set map(4)["2"] to "two"
  Set map(4)["1"] to "one"
trace
  - location: 15 (remaining gas: 1039987.935 units remaining)
    [ (Pair {} { Elt "1" "one" ; Elt "2" "two" } Unit) ]
  - location: 15 (remaining gas: 1039987.925 units remaining)
    [ {}
      (Pair { Elt "1" "one" ; Elt "2" "two" } Unit) ]
  - location: 16 (remaining gas: 1039987.925 units remaining)
    [ (Pair { Elt "1" "one" ; Elt "2" "two" } Unit) ]
  - location: 18 (remaining gas: 1039987.915 units remaining)
    [ { Elt "1" "one" ; Elt "2" "two" }
      Unit ]
  - location: 16 (remaining gas: 1039987.890 units remaining)
    [ {}
      { Elt "1" "one" ; Elt "2" "two" }
      Unit ]
  - location: 19 (remaining gas: 1039987.890 units remaining)
    [ { Elt "1" "one" ; Elt "2" "two" }
      Unit ]
  - location: 23 (remaining gas: 1039987.880 units remaining)
    [ (Pair { Elt "1" "one" ; Elt "2" "two" } Unit) ]
  - location: 24 (remaining gas: 1039987.870 units remaining)
    [ {}
      (Pair { Elt "1" "one" ; Elt "2" "two" } Unit) ]
  - location: 26 (remaining gas: 1039987.860 units remaining)
    [ (Pair {} { Elt "1" "one" ; Elt "2" "two" } Unit) ]


./octez-client --mode mockup run script michelson_test_scripts/opcodes/update_big_map.tz on storage '(Pair { Elt "1" "one" ; Elt "2" "two" } Unit)' and input '{ Elt "1" (Some "two") }' --trace-stack
storage
  (Pair 4 Unit)
emitted operations
  
big_map diff
  New map(4) of type (big_map string string)
  Set map(4)["2"] to "two"
  Set map(4)["1"] to "two"
trace
  - location: 15 (remaining gas: 1039987.485 units remaining)
    [ (Pair { Elt "1" (Some "two") } { Elt "1" "one" ; Elt "2" "two" } Unit) ]
  - location: 15 (remaining gas: 1039987.475 units remaining)
    [ { Elt "1" (Some "two") }
      (Pair { Elt "1" "one" ; Elt "2" "two" } Unit) ]
  - location: 16 (remaining gas: 1039987.475 units remaining)
    [ (Pair { Elt "1" "one" ; Elt "2" "two" } Unit) ]
  - location: 18 (remaining gas: 1039987.465 units remaining)
    [ { Elt "1" "one" ; Elt "2" "two" }
      Unit ]
  - location: 16 (remaining gas: 1039987.440 units remaining)
    [ { Elt "1" (Some "two") }
      { Elt "1" "one" ; Elt "2" "two" }
      Unit ]
  - location: 19 (remaining gas: 1039987.440 units remaining)
    [ (Pair "1" (Some "two"))
      { Elt "1" "one" ; Elt "2" "two" }
      Unit ]
  - location: 21 (remaining gas: 1039987.430 units remaining)
    [ "1"
      (Some "two")
      { Elt "1" "one" ; Elt "2" "two" }
      Unit ]
  - location: 22 (remaining gas: 1039986.703 units remaining)
    [ { Elt "1" "two" ; Elt "2" "two" }
      Unit ]
  - location: 19 (remaining gas: 1039986.688 units remaining)
    [ { Elt "1" "two" ; Elt "2" "two" }
      Unit ]
  - location: 23 (remaining gas: 1039986.678 units remaining)
    [ (Pair { Elt "1" "two" ; Elt "2" "two" } Unit) ]
  - location: 24 (remaining gas: 1039986.668 units remaining)
    [ {}
      (Pair { Elt "1" "two" ; Elt "2" "two" } Unit) ]
  - location: 26 (remaining gas: 1039986.658 units remaining)
    [ (Pair {} { Elt "1" "two" ; Elt "2" "two" } Unit) ]


./octez-client --mode mockup run script michelson_test_scripts/opcodes/update_big_map.tz on storage '(Pair { Elt "1" "one" ; Elt "2" "two" } Unit)' and input '{ Elt "3" (Some "three") }' --trace-stack
storage
  (Pair 4 Unit)
emitted operations
  
big_map diff
  New map(4) of type (big_map string string)
  Set map(4)["2"] to "two"
  Set map(4)["3"] to "three"
  Set map(4)["1"] to "one"
trace
  - location: 15 (remaining gas: 1039987.465 units remaining)
    [ (Pair { Elt "3" (Some "three") } { Elt "1" "one" ; Elt "2" "two" } Unit) ]
  - location: 15 (remaining gas: 1039987.455 units remaining)
    [ { Elt "3" (Some "three") }
      (Pair { Elt "1" "one" ; Elt "2" "two" } Unit) ]
  - location: 16 (remaining gas: 1039987.455 units remaining)
    [ (Pair { Elt "1" "one" ; Elt "2" "two" } Unit) ]
  - location: 18 (remaining gas: 1039987.445 units remaining)
    [ { Elt "1" "one" ; Elt "2" "two" }
      Unit ]
  - location: 16 (remaining gas: 1039987.420 units remaining)
    [ { Elt "3" (Some "three") }
      { Elt "1" "one" ; Elt "2" "two" }
      Unit ]
  - location: 19 (remaining gas: 1039987.420 units remaining)
    [ (Pair "3" (Some "three"))
      { Elt "1" "one" ; Elt "2" "two" }
      Unit ]
  - location: 21 (remaining gas: 1039987.410 units remaining)
    [ "3"
      (Some "three")
      { Elt "1" "one" ; Elt "2" "two" }
      Unit ]
  - location: 22 (remaining gas: 1039986.683 units remaining)
    [ { Elt "1" "one" ; Elt "2" "two" ; Elt "3" "three" }
      Unit ]
  - location: 19 (remaining gas: 1039986.668 units remaining)
    [ { Elt "1" "one" ; Elt "2" "two" ; Elt "3" "three" }
      Unit ]
  - location: 23 (remaining gas: 1039986.658 units remaining)
    [ (Pair { Elt "1" "one" ; Elt "2" "two" ; Elt "3" "three" } Unit) ]
  - location: 24 (remaining gas: 1039986.648 units remaining)
    [ {}
      (Pair { Elt "1" "one" ; Elt "2" "two" ; Elt "3" "three" } Unit) ]
  - location: 26 (remaining gas: 1039986.638 units remaining)
    [ (Pair {} { Elt "1" "one" ; Elt "2" "two" ; Elt "3" "three" } Unit) ]


./octez-client --mode mockup run script michelson_test_scripts/opcodes/update_big_map.tz on storage '(Pair { Elt "1" "one" ; Elt "2" "two" } Unit)' and input '{ Elt "3" None }' --trace-stack
storage
  (Pair 4 Unit)
emitted operations
  
big_map diff
  New map(4) of type (big_map string string)
  Set map(4)["2"] to "two"
  Unset map(4)["3"]
  Set map(4)["1"] to "one"
trace
  - location: 15 (remaining gas: 1039987.629 units remaining)
    [ (Pair { Elt "3" None } { Elt "1" "one" ; Elt "2" "two" } Unit) ]
  - location: 15 (remaining gas: 1039987.619 units remaining)
    [ { Elt "3" None }
      (Pair { Elt "1" "one" ; Elt "2" "two" } Unit) ]
  - location: 16 (remaining gas: 1039987.619 units remaining)
    [ (Pair { Elt "1" "one" ; Elt "2" "two" } Unit) ]
  - location: 18 (remaining gas: 1039987.609 units remaining)
    [ { Elt "1" "one" ; Elt "2" "two" }
      Unit ]
  - location: 16 (remaining gas: 1039987.584 units remaining)
    [ { Elt "3" None }
      { Elt "1" "one" ; Elt "2" "two" }
      Unit ]
  - location: 19 (remaining gas: 1039987.584 units remaining)
    [ (Pair "3" None)
      { Elt "1" "one" ; Elt "2" "two" }
      Unit ]
  - location: 21 (remaining gas: 1039987.574 units remaining)
    [ "3"
      None
      { Elt "1" "one" ; Elt "2" "two" }
      Unit ]
  - location: 22 (remaining gas: 1039986.847 units remaining)
    [ { Elt "1" "one" ; Elt "2" "two" }
      Unit ]
  - location: 19 (remaining gas: 1039986.832 units remaining)
    [ { Elt "1" "one" ; Elt "2" "two" }
      Unit ]
  - location: 23 (remaining gas: 1039986.822 units remaining)
    [ (Pair { Elt "1" "one" ; Elt "2" "two" } Unit) ]
  - location: 24 (remaining gas: 1039986.812 units remaining)
    [ {}
      (Pair { Elt "1" "one" ; Elt "2" "two" } Unit) ]
  - location: 26 (remaining gas: 1039986.802 units remaining)
    [ (Pair {} { Elt "1" "one" ; Elt "2" "two" } Unit) ]


./octez-client --mode mockup run script michelson_test_scripts/opcodes/update_big_map.tz on storage '(Pair { Elt "1" "one" ; Elt "2" "two" } Unit)' and input '{ Elt "2" None }' --trace-stack
storage
  (Pair 4 Unit)
emitted operations
  
big_map diff
  New map(4) of type (big_map string string)
  Unset map(4)["2"]
  Set map(4)["1"] to "one"
trace
  - location: 15 (remaining gas: 1039987.629 units remaining)
    [ (Pair { Elt "2" None } { Elt "1" "one" ; Elt "2" "two" } Unit) ]
  - location: 15 (remaining gas: 1039987.619 units remaining)
    [ { Elt "2" None }
      (Pair { Elt "1" "one" ; Elt "2" "two" } Unit) ]
  - location: 16 (remaining gas: 1039987.619 units remaining)
    [ (Pair { Elt "1" "one" ; Elt "2" "two" } Unit) ]
  - location: 18 (remaining gas: 1039987.609 units remaining)
    [ { Elt "1" "one" ; Elt "2" "two" }
      Unit ]
  - location: 16 (remaining gas: 1039987.584 units remaining)
    [ { Elt "2" None }
      { Elt "1" "one" ; Elt "2" "two" }
      Unit ]
  - location: 19 (remaining gas: 1039987.584 units remaining)
    [ (Pair "2" None)
      { Elt "1" "one" ; Elt "2" "two" }
      Unit ]
  - location: 21 (remaining gas: 1039987.574 units remaining)
    [ "2"
      None
      { Elt "1" "one" ; Elt "2" "two" }
      Unit ]
  - location: 22 (remaining gas: 1039986.847 units remaining)
    [ { Elt "1" "one" }
      Unit ]
  - location: 19 (remaining gas: 1039986.832 units remaining)
    [ { Elt "1" "one" }
      Unit ]
  - location: 23 (remaining gas: 1039986.822 units remaining)
    [ (Pair { Elt "1" "one" } Unit) ]
  - location: 24 (remaining gas: 1039986.812 units remaining)
    [ {}
      (Pair { Elt "1" "one" } Unit) ]
  - location: 26 (remaining gas: 1039986.802 units remaining)
    [ (Pair {} { Elt "1" "one" } Unit) ]


./octez-client --mode mockup run script michelson_test_scripts/opcodes/update_big_map.tz on storage '(Pair { Elt "1" "one" ; Elt "2" "two" } Unit)' and input '{ Elt "1" (Some "two") }' --trace-stack
storage
  (Pair 4 Unit)
emitted operations
  
big_map diff
  New map(4) of type (big_map string string)
  Set map(4)["2"] to "two"
  Set map(4)["1"] to "two"
trace
  - location: 15 (remaining gas: 1039987.485 units remaining)
    [ (Pair { Elt "1" (Some "two") } { Elt "1" "one" ; Elt "2" "two" } Unit) ]
  - location: 15 (remaining gas: 1039987.475 units remaining)
    [ { Elt "1" (Some "two") }
      (Pair { Elt "1" "one" ; Elt "2" "two" } Unit) ]
  - location: 16 (remaining gas: 1039987.475 units remaining)
    [ (Pair { Elt "1" "one" ; Elt "2" "two" } Unit) ]
  - location: 18 (remaining gas: 1039987.465 units remaining)
    [ { Elt "1" "one" ; Elt "2" "two" }
      Unit ]
  - location: 16 (remaining gas: 1039987.440 units remaining)
    [ { Elt "1" (Some "two") }
      { Elt "1" "one" ; Elt "2" "two" }
      Unit ]
  - location: 19 (remaining gas: 1039987.440 units remaining)
    [ (Pair "1" (Some "two"))
      { Elt "1" "one" ; Elt "2" "two" }
      Unit ]
  - location: 21 (remaining gas: 1039987.430 units remaining)
    [ "1"
      (Some "two")
      { Elt "1" "one" ; Elt "2" "two" }
      Unit ]
  - location: 22 (remaining gas: 1039986.703 units remaining)
    [ { Elt "1" "two" ; Elt "2" "two" }
      Unit ]
  - location: 19 (remaining gas: 1039986.688 units remaining)
    [ { Elt "1" "two" ; Elt "2" "two" }
      Unit ]
  - location: 23 (remaining gas: 1039986.678 units remaining)
    [ (Pair { Elt "1" "two" ; Elt "2" "two" } Unit) ]
  - location: 24 (remaining gas: 1039986.668 units remaining)
    [ {}
      (Pair { Elt "1" "two" ; Elt "2" "two" } Unit) ]
  - location: 26 (remaining gas: 1039986.658 units remaining)
    [ (Pair {} { Elt "1" "two" ; Elt "2" "two" } Unit) ]


./octez-client --mode mockup run script michelson_test_scripts/opcodes/get_and_update_big_map.tz on storage '(Pair None {})' and input '"hello"' --trace-stack
storage
  (Pair None 4)
emitted operations
  
big_map diff
  New map(4) of type (big_map string nat)
  Unset map(4)["hello"]
trace
  - location: 13 (remaining gas: 1039991.521 units remaining)
    [ (Pair "hello" None {}) ]
  - location: 13 (remaining gas: 1039991.511 units remaining)
    [ "hello"
      (Pair None {}) ]
  - location: 14 (remaining gas: 1039991.511 units remaining)
    [ (Pair None {}) ]
  - location: 16 (remaining gas: 1039991.501 units remaining)
    [ None
      {} ]
  - location: 14 (remaining gas: 1039991.476 units remaining)
    [ "hello"
      None
      {} ]
  - location: 17 (remaining gas: 1039990.689 units remaining)
    [ None
      {} ]
  - location: 18 (remaining gas: 1039990.679 units remaining)
    [ (Pair None {}) ]
  - location: 19 (remaining gas: 1039990.669 units remaining)
    [ {}
      (Pair None {}) ]
  - location: 21 (remaining gas: 1039990.659 units remaining)
    [ (Pair {} None {}) ]


./octez-client --mode mockup run script michelson_test_scripts/opcodes/get_and_update_big_map.tz on storage '(Pair (Some 4) {})' and input '"hello"' --trace-stack
storage
  (Pair None 4)
emitted operations
  
big_map diff
  New map(4) of type (big_map string nat)
  Set map(4)["hello"] to 4
trace
  - location: 13 (remaining gas: 1039991.421 units remaining)
    [ (Pair "hello" (Some 4) {}) ]
  - location: 13 (remaining gas: 1039991.411 units remaining)
    [ "hello"
      (Pair (Some 4) {}) ]
  - location: 14 (remaining gas: 1039991.411 units remaining)
    [ (Pair (Some 4) {}) ]
  - location: 16 (remaining gas: 1039991.401 units remaining)
    [ (Some 4)
      {} ]
  - location: 14 (remaining gas: 1039991.376 units remaining)
    [ "hello"
      (Some 4)
      {} ]
  - location: 17 (remaining gas: 1039990.589 units remaining)
    [ None
      { Elt "hello" 4 } ]
  - location: 18 (remaining gas: 1039990.579 units remaining)
    [ (Pair None { Elt "hello" 4 }) ]
  - location: 19 (remaining gas: 1039990.569 units remaining)
    [ {}
      (Pair None { Elt "hello" 4 }) ]
  - location: 21 (remaining gas: 1039990.559 units remaining)
    [ (Pair {} None { Elt "hello" 4 }) ]


./octez-client --mode mockup run script michelson_test_scripts/opcodes/get_and_update_big_map.tz on storage '(Pair None { Elt "hello" 4 })' and input '"hello"' --trace-stack
storage
  (Pair (Some 4) 4)
emitted operations
  
big_map diff
  New map(4) of type (big_map string nat)
  Unset map(4)["hello"]
trace
  - location: 13 (remaining gas: 1039990.491 units remaining)
    [ (Pair "hello" None { Elt "hello" 4 }) ]
  - location: 13 (remaining gas: 1039990.481 units remaining)
    [ "hello"
      (Pair None { Elt "hello" 4 }) ]
  - location: 14 (remaining gas: 1039990.481 units remaining)
    [ (Pair None { Elt "hello" 4 }) ]
  - location: 16 (remaining gas: 1039990.471 units remaining)
    [ None
      { Elt "hello" 4 } ]
  - location: 14 (remaining gas: 1039990.446 units remaining)
    [ "hello"
      None
      { Elt "hello" 4 } ]
  - location: 17 (remaining gas: 1039989.654 units remaining)
    [ (Some 4)
      {} ]
  - location: 18 (remaining gas: 1039989.644 units remaining)
    [ (Pair (Some 4) {}) ]
  - location: 19 (remaining gas: 1039989.634 units remaining)
    [ {}
      (Pair (Some 4) {}) ]
  - location: 21 (remaining gas: 1039989.624 units remaining)
    [ (Pair {} (Some 4) {}) ]


./octez-client --mode mockup run script michelson_test_scripts/opcodes/get_and_update_big_map.tz on storage '(Pair (Some 5) { Elt "hello" 4 })' and input '"hello"' --trace-stack
storage
  (Pair (Some 4) 4)
emitted operations
  
big_map diff
  New map(4) of type (big_map string nat)
  Set map(4)["hello"] to 5
trace
  - location: 13 (remaining gas: 1039990.391 units remaining)
    [ (Pair "hello" (Some 5) { Elt "hello" 4 }) ]
  - location: 13 (remaining gas: 1039990.381 units remaining)
    [ "hello"
      (Pair (Some 5) { Elt "hello" 4 }) ]
  - location: 14 (remaining gas: 1039990.381 units remaining)
    [ (Pair (Some 5) { Elt "hello" 4 }) ]
  - location: 16 (remaining gas: 1039990.371 units remaining)
    [ (Some 5)
      { Elt "hello" 4 } ]
  - location: 14 (remaining gas: 1039990.346 units remaining)
    [ "hello"
      (Some 5)
      { Elt "hello" 4 } ]
  - location: 17 (remaining gas: 1039989.554 units remaining)
    [ (Some 4)
      { Elt "hello" 5 } ]
  - location: 18 (remaining gas: 1039989.544 units remaining)
    [ (Pair (Some 4) { Elt "hello" 5 }) ]
  - location: 19 (remaining gas: 1039989.534 units remaining)
    [ {}
      (Pair (Some 4) { Elt "hello" 5 }) ]
  - location: 21 (remaining gas: 1039989.524 units remaining)
    [ (Pair {} (Some 4) { Elt "hello" 5 }) ]


./octez-client --mode mockup run script michelson_test_scripts/opcodes/get_and_update_big_map.tz on storage '(Pair (Some 5) { Elt "hello" 4 })' and input '"hi"' --trace-stack
storage
  (Pair None 4)
emitted operations
  
big_map diff
  New map(4) of type (big_map string nat)
  Set map(4)["hello"] to 4
  Set map(4)["hi"] to 5
trace
  - location: 13 (remaining gas: 1039990.421 units remaining)
    [ (Pair "hi" (Some 5) { Elt "hello" 4 }) ]
  - location: 13 (remaining gas: 1039990.411 units remaining)
    [ "hi"
      (Pair (Some 5) { Elt "hello" 4 }) ]
  - location: 14 (remaining gas: 1039990.411 units remaining)
    [ (Pair (Some 5) { Elt "hello" 4 }) ]
  - location: 16 (remaining gas: 1039990.401 units remaining)
    [ (Some 5)
      { Elt "hello" 4 } ]
  - location: 14 (remaining gas: 1039990.376 units remaining)
    [ "hi"
      (Some 5)
      { Elt "hello" 4 } ]
  - location: 17 (remaining gas: 1039989.617 units remaining)
    [ None
      { Elt "hello" 4 ; Elt "hi" 5 } ]
  - location: 18 (remaining gas: 1039989.607 units remaining)
    [ (Pair None { Elt "hello" 4 ; Elt "hi" 5 }) ]
  - location: 19 (remaining gas: 1039989.597 units remaining)
    [ {}
      (Pair None { Elt "hello" 4 ; Elt "hi" 5 }) ]
  - location: 21 (remaining gas: 1039989.587 units remaining)
    [ (Pair {} None { Elt "hello" 4 ; Elt "hi" 5 }) ]


./octez-client --mode mockup run script michelson_test_scripts/opcodes/get_and_update_big_map.tz on storage '(Pair None { Elt "1" 1 ; Elt "2" 2 })' and input '"1"' --trace-stack
storage
  (Pair (Some 1) 4)
emitted operations
  
big_map diff
  New map(4) of type (big_map string nat)
  Set map(4)["2"] to 2
  Unset map(4)["1"]
trace
  - location: 13 (remaining gas: 1039989.633 units remaining)
    [ (Pair "1" None { Elt "1" 1 ; Elt "2" 2 }) ]
  - location: 13 (remaining gas: 1039989.623 units remaining)
    [ "1"
      (Pair None { Elt "1" 1 ; Elt "2" 2 }) ]
  - location: 14 (remaining gas: 1039989.623 units remaining)
    [ (Pair None { Elt "1" 1 ; Elt "2" 2 }) ]
  - location: 16 (remaining gas: 1039989.613 units remaining)
    [ None
      { Elt "1" 1 ; Elt "2" 2 } ]
  - location: 14 (remaining gas: 1039989.588 units remaining)
    [ "1"
      None
      { Elt "1" 1 ; Elt "2" 2 } ]
  - location: 17 (remaining gas: 1039988.837 units remaining)
    [ (Some 1)
      { Elt "2" 2 } ]
  - location: 18 (remaining gas: 1039988.827 units remaining)
    [ (Pair (Some 1) { Elt "2" 2 }) ]
  - location: 19 (remaining gas: 1039988.817 units remaining)
    [ {}
      (Pair (Some 1) { Elt "2" 2 }) ]
  - location: 21 (remaining gas: 1039988.807 units remaining)
    [ (Pair {} (Some 1) { Elt "2" 2 }) ]


./octez-client --mode mockup run script michelson_test_scripts/opcodes/get_and_update_big_map.tz on storage '(Pair None { Elt "1" 1 ; Elt "2" 2 })' and input '"1"' --trace-stack
storage
  (Pair (Some 1) 4)
emitted operations
  
big_map diff
  New map(4) of type (big_map string nat)
  Set map(4)["2"] to 2
  Unset map(4)["1"]
trace
  - location: 13 (remaining gas: 1039989.633 units remaining)
    [ (Pair "1" None { Elt "1" 1 ; Elt "2" 2 }) ]
  - location: 13 (remaining gas: 1039989.623 units remaining)
    [ "1"
      (Pair None { Elt "1" 1 ; Elt "2" 2 }) ]
  - location: 14 (remaining gas: 1039989.623 units remaining)
    [ (Pair None { Elt "1" 1 ; Elt "2" 2 }) ]
  - location: 16 (remaining gas: 1039989.613 units remaining)
    [ None
      { Elt "1" 1 ; Elt "2" 2 } ]
  - location: 14 (remaining gas: 1039989.588 units remaining)
    [ "1"
      None
      { Elt "1" 1 ; Elt "2" 2 } ]
  - location: 17 (remaining gas: 1039988.837 units remaining)
    [ (Some 1)
      { Elt "2" 2 } ]
  - location: 18 (remaining gas: 1039988.827 units remaining)
    [ (Pair (Some 1) { Elt "2" 2 }) ]
  - location: 19 (remaining gas: 1039988.817 units remaining)
    [ {}
      (Pair (Some 1) { Elt "2" 2 }) ]
  - location: 21 (remaining gas: 1039988.807 units remaining)
    [ (Pair {} (Some 1) { Elt "2" 2 }) ]


./octez-client --mode mockup run script michelson_test_scripts/mini_scenarios/big_map_magic.tz on storage '(Left (Pair { Elt "1" "one" } { Elt "2" "two" }))' and input '(Left Unit)' --trace-stack
storage
  (Left (Pair 4 5))
emitted operations
  
big_map diff
  New map(5) of type (big_map string string)
  Set map(5)["1"] to "one"
  New map(4) of type (big_map string string)
  Set map(4)["2"] to "two"
trace
  - location: 43 (remaining gas: 1039937.872 units remaining)
    [ (Pair (Left Unit) (Left (Pair { Elt "1" "one" } { Elt "2" "two" }))) ]
  - location: 43 (remaining gas: 1039937.862 units remaining)
    [ (Left Unit)
      (Left (Pair { Elt "1" "one" } { Elt "2" "two" })) ]
  - location: 44 (remaining gas: 1039937.862 units remaining)
    [ Unit
      (Left (Pair { Elt "1" "one" } { Elt "2" "two" })) ]
  - location: 46 (remaining gas: 1039937.852 units remaining)
    [ (Left (Pair { Elt "1" "one" } { Elt "2" "two" })) ]
  - location: 48 (remaining gas: 1039937.852 units remaining)
    [ (Pair { Elt "1" "one" } { Elt "2" "two" }) ]
  - location: 48 (remaining gas: 1039937.837 units remaining)
    [ (Pair { Elt "1" "one" } { Elt "2" "two" }) ]
  - location: 54 (remaining gas: 1039937.827 units remaining)
    [ { Elt "1" "one" }
      { Elt "2" "two" } ]
  - location: 55 (remaining gas: 1039937.817 units remaining)
    [ { Elt "2" "two" }
      { Elt "1" "one" } ]
  - location: 56 (remaining gas: 1039937.807 units remaining)
    [ (Pair { Elt "2" "two" } { Elt "1" "one" }) ]
  - location: 57 (remaining gas: 1039937.797 units remaining)
    [ (Left (Pair { Elt "2" "two" } { Elt "1" "one" })) ]
  - location: 44 (remaining gas: 1039937.782 units remaining)
    [ (Left (Pair { Elt "2" "two" } { Elt "1" "one" })) ]
  - location: 151 (remaining gas: 1039937.772 units remaining)
    [ {}
      (Left (Pair { Elt "2" "two" } { Elt "1" "one" })) ]
  - location: 153 (remaining gas: 1039937.762 units remaining)
    [ (Pair {} (Left (Pair { Elt "2" "two" } { Elt "1" "one" }))) ]


./octez-client --mode mockup run script michelson_test_scripts/mini_scenarios/big_map_magic.tz on storage '(Left (Pair { Elt "1" "one" } { Elt "2" "two" }))' and input '(Right (Left (Left (Pair { Elt "3" "three" } { Elt "4" "four" }))))' --trace-stack
storage
  (Left (Pair 4 5))
emitted operations
  
big_map diff
  New map(5) of type (big_map string string)
  Set map(5)["4"] to "four"
  New map(4) of type (big_map string string)
  Set map(4)["3"] to "three"
trace
  - location: 43 (remaining gas: 1039934.584 units remaining)
    [ (Pair (Right (Left (Left (Pair { Elt "3" "three" } { Elt "4" "four" }))))
            (Left (Pair { Elt "1" "one" } { Elt "2" "two" }))) ]
  - location: 43 (remaining gas: 1039934.574 units remaining)
    [ (Right (Left (Left (Pair { Elt "3" "three" } { Elt "4" "four" }))))
      (Left (Pair { Elt "1" "one" } { Elt "2" "two" })) ]
  - location: 44 (remaining gas: 1039934.574 units remaining)
    [ (Left (Left (Pair { Elt "3" "three" } { Elt "4" "four" })))
      (Left (Pair { Elt "1" "one" } { Elt "2" "two" })) ]
  - location: 60 (remaining gas: 1039934.574 units remaining)
    [ (Left (Pair { Elt "3" "three" } { Elt "4" "four" }))
      (Left (Pair { Elt "1" "one" } { Elt "2" "two" })) ]
  - location: 62 (remaining gas: 1039934.564 units remaining)
    [ (Left (Pair { Elt "1" "one" } { Elt "2" "two" }))
      (Left (Pair { Elt "3" "three" } { Elt "4" "four" })) ]
  - location: 63 (remaining gas: 1039934.554 units remaining)
    [ (Left (Pair { Elt "3" "three" } { Elt "4" "four" })) ]
  - location: 60 (remaining gas: 1039934.539 units remaining)
    [ (Left (Pair { Elt "3" "three" } { Elt "4" "four" })) ]
  - location: 44 (remaining gas: 1039934.524 units remaining)
    [ (Left (Pair { Elt "3" "three" } { Elt "4" "four" })) ]
  - location: 151 (remaining gas: 1039934.514 units remaining)
    [ {}
      (Left (Pair { Elt "3" "three" } { Elt "4" "four" })) ]
  - location: 153 (remaining gas: 1039934.504 units remaining)
    [ (Pair {} (Left (Pair { Elt "3" "three" } { Elt "4" "four" }))) ]


./octez-client --mode mockup run script michelson_test_scripts/mini_scenarios/big_map_magic.tz on storage '(Left (Pair { Elt "1" "one" } { Elt "2" "two" }))' and input '(Right (Left (Right Unit)))' --trace-stack
storage
  (Right Unit)
emitted operations
  
big_map diff
  
trace
  - location: 43 (remaining gas: 1039937.232 units remaining)
    [ (Pair (Right (Left (Right Unit))) (Left (Pair { Elt "1" "one" } { Elt "2" "two" }))) ]
  - location: 43 (remaining gas: 1039937.222 units remaining)
    [ (Right (Left (Right Unit)))
      (Left (Pair { Elt "1" "one" } { Elt "2" "two" })) ]
  - location: 44 (remaining gas: 1039937.222 units remaining)
    [ (Left (Right Unit))
      (Left (Pair { Elt "1" "one" } { Elt "2" "two" })) ]
  - location: 60 (remaining gas: 1039937.222 units remaining)
    [ (Right Unit)
      (Left (Pair { Elt "1" "one" } { Elt "2" "two" })) ]
  - location: 62 (remaining gas: 1039937.212 units remaining)
    [ (Left (Pair { Elt "1" "one" } { Elt "2" "two" }))
      (Right Unit) ]
  - location: 63 (remaining gas: 1039937.202 units remaining)
    [ (Right Unit) ]
  - location: 60 (remaining gas: 1039937.187 units remaining)
    [ (Right Unit) ]
  - location: 44 (remaining gas: 1039937.172 units remaining)
    [ (Right Unit) ]
  - location: 151 (remaining gas: 1039937.162 units remaining)
    [ {}
      (Right Unit) ]
  - location: 153 (remaining gas: 1039937.152 units remaining)
    [ (Pair {} (Right Unit)) ]


./octez-client --mode mockup run script michelson_test_scripts/mini_scenarios/big_map_magic.tz on storage '(Right Unit)' and input '(Right (Right (Left (Pair { Pair "foo" "bar" } { Pair "gaz" "baz" }) )))' --trace-stack
storage
  (Left (Pair 4 5))
emitted operations
  
big_map diff
  New map(5) of type (big_map string string)
  Set map(5)["gaz"] to "baz"
  New map(4) of type (big_map string string)
  Set map(4)["foo"] to "bar"
trace
  - location: 43 (remaining gas: 1039939.094 units remaining)
    [ (Pair (Right (Right (Left (Pair { Pair "foo" "bar" } { Pair "gaz" "baz" })))) (Right Unit)) ]
  - location: 43 (remaining gas: 1039939.084 units remaining)
    [ (Right (Right (Left (Pair { Pair "foo" "bar" } { Pair "gaz" "baz" }))))
      (Right Unit) ]
  - location: 44 (remaining gas: 1039939.084 units remaining)
    [ (Right (Left (Pair { Pair "foo" "bar" } { Pair "gaz" "baz" })))
      (Right Unit) ]
  - location: 60 (remaining gas: 1039939.084 units remaining)
    [ (Left (Pair { Pair "foo" "bar" } { Pair "gaz" "baz" }))
      (Right Unit) ]
  - location: 65 (remaining gas: 1039939.084 units remaining)
    [ (Pair { Pair "foo" "bar" } { Pair "gaz" "baz" })
      (Right Unit) ]
  - location: 67 (remaining gas: 1039939.084 units remaining)
    [ (Right Unit) ]
  - location: 70 (remaining gas: 1039939.084 units remaining)
    [ Unit ]
  - location: 70 (remaining gas: 1039939.069 units remaining)
    [ Unit ]
  - location: 76 (remaining gas: 1039939.059 units remaining)
    [  ]
  - location: 67 (remaining gas: 1039939.034 units remaining)
    [ (Pair { Pair "foo" "bar" } { Pair "gaz" "baz" }) ]
  - location: 77 (remaining gas: 1039939.024 units remaining)
    [ { Pair "foo" "bar" }
      { Pair "gaz" "baz" } ]
  - location: 78 (remaining gas: 1039939.024 units remaining)
    [ { Pair "gaz" "baz" } ]
  - location: 80 (remaining gas: 1039938.724 units remaining)
    [ {}
      { Pair "gaz" "baz" } ]
  - location: 78 (remaining gas: 1039938.699 units remaining)
    [ { Pair "foo" "bar" }
      {}
      { Pair "gaz" "baz" } ]
  - location: 83 (remaining gas: 1039938.699 units remaining)
    [ (Pair "foo" "bar")
      {}
      { Pair "gaz" "baz" } ]
  - location: 85 (remaining gas: 1039938.689 units remaining)
    [ "foo"
      "bar"
      {}
      { Pair "gaz" "baz" } ]
  - location: 86 (remaining gas: 1039938.689 units remaining)
    [ "bar"
      {}
      { Pair "gaz" "baz" } ]
  - location: 88 (remaining gas: 1039938.679 units remaining)
    [ (Some "bar")
      {}
      { Pair "gaz" "baz" } ]
  - location: 86 (remaining gas: 1039938.654 units remaining)
    [ "foo"
      (Some "bar")
      {}
      { Pair "gaz" "baz" } ]
  - location: 89 (remaining gas: 1039937.910 units remaining)
    [ { Elt "foo" "bar" }
      { Pair "gaz" "baz" } ]
  - location: 83 (remaining gas: 1039937.895 units remaining)
    [ { Elt "foo" "bar" }
      { Pair "gaz" "baz" } ]
  - location: 90 (remaining gas: 1039937.885 units remaining)
    [ { Pair "gaz" "baz" }
      { Elt "foo" "bar" } ]
  - location: 91 (remaining gas: 1039937.885 units remaining)
    [ { Elt "foo" "bar" } ]
  - location: 93 (remaining gas: 1039937.585 units remaining)
    [ {}
      { Elt "foo" "bar" } ]
  - location: 91 (remaining gas: 1039937.560 units remaining)
    [ { Pair "gaz" "baz" }
      {}
      { Elt "foo" "bar" } ]
  - location: 96 (remaining gas: 1039937.560 units remaining)
    [ (Pair "gaz" "baz")
      {}
      { Elt "foo" "bar" } ]
  - location: 98 (remaining gas: 1039937.550 units remaining)
    [ "gaz"
      "baz"
      {}
      { Elt "foo" "bar" } ]
  - location: 99 (remaining gas: 1039937.550 units remaining)
    [ "baz"
      {}
      { Elt "foo" "bar" } ]
  - location: 101 (remaining gas: 1039937.540 units remaining)
    [ (Some "baz")
      {}
      { Elt "foo" "bar" } ]
  - location: 99 (remaining gas: 1039937.515 units remaining)
    [ "gaz"
      (Some "baz")
      {}
      { Elt "foo" "bar" } ]
  - location: 102 (remaining gas: 1039936.771 units remaining)
    [ { Elt "gaz" "baz" }
      { Elt "foo" "bar" } ]
  - location: 96 (remaining gas: 1039936.756 units remaining)
    [ { Elt "gaz" "baz" }
      { Elt "foo" "bar" } ]
  - location: 103 (remaining gas: 1039936.746 units remaining)
    [ { Elt "foo" "bar" }
      { Elt "gaz" "baz" } ]
  - location: 104 (remaining gas: 1039936.736 units remaining)
    [ (Pair { Elt "foo" "bar" } { Elt "gaz" "baz" }) ]
  - location: 105 (remaining gas: 1039936.726 units remaining)
    [ (Left (Pair { Elt "foo" "bar" } { Elt "gaz" "baz" })) ]
  - location: 65 (remaining gas: 1039936.711 units remaining)
    [ (Left (Pair { Elt "foo" "bar" } { Elt "gaz" "baz" })) ]
  - location: 60 (remaining gas: 1039936.696 units remaining)
    [ (Left (Pair { Elt "foo" "bar" } { Elt "gaz" "baz" })) ]
  - location: 44 (remaining gas: 1039936.681 units remaining)
    [ (Left (Pair { Elt "foo" "bar" } { Elt "gaz" "baz" })) ]
  - location: 151 (remaining gas: 1039936.671 units remaining)
    [ {}
      (Left (Pair { Elt "foo" "bar" } { Elt "gaz" "baz" })) ]
  - location: 153 (remaining gas: 1039936.661 units remaining)
    [ (Pair {} (Left (Pair { Elt "foo" "bar" } { Elt "gaz" "baz" }))) ]


./octez-client --mode mockup run script michelson_test_scripts/mini_scenarios/big_map_magic.tz on storage '(Left (Pair { Elt "1" "one" } { Elt "2" "two" }) )' and input '(Right (Right (Right (Left { Pair "3" "three" }))))' --trace-stack
storage
  (Left (Pair 4 5))
emitted operations
  
big_map diff
  New map(5) of type (big_map string string)
  Set map(5)["2"] to "two"
  New map(4) of type (big_map string string)
  Set map(4)["3"] to "three"
  Set map(4)["1"] to "one"
trace
  - location: 43 (remaining gas: 1039936.964 units remaining)
    [ (Pair (Right (Right (Right (Left { Pair "3" "three" }))))
            (Left (Pair { Elt "1" "one" } { Elt "2" "two" }))) ]
  - location: 43 (remaining gas: 1039936.954 units remaining)
    [ (Right (Right (Right (Left { Pair "3" "three" }))))
      (Left (Pair { Elt "1" "one" } { Elt "2" "two" })) ]
  - location: 44 (remaining gas: 1039936.954 units remaining)
    [ (Right (Right (Left { Pair "3" "three" })))
      (Left (Pair { Elt "1" "one" } { Elt "2" "two" })) ]
  - location: 60 (remaining gas: 1039936.954 units remaining)
    [ (Right (Left { Pair "3" "three" }))
      (Left (Pair { Elt "1" "one" } { Elt "2" "two" })) ]
  - location: 65 (remaining gas: 1039936.954 units remaining)
    [ (Left { Pair "3" "three" })
      (Left (Pair { Elt "1" "one" } { Elt "2" "two" })) ]
  - location: 108 (remaining gas: 1039936.954 units remaining)
    [ { Pair "3" "three" }
      (Left (Pair { Elt "1" "one" } { Elt "2" "two" })) ]
  - location: 110 (remaining gas: 1039936.954 units remaining)
    [ (Left (Pair { Elt "1" "one" } { Elt "2" "two" })) ]
  - location: 113 (remaining gas: 1039936.954 units remaining)
    [ (Pair { Elt "1" "one" } { Elt "2" "two" }) ]
  - location: 113 (remaining gas: 1039936.939 units remaining)
    [ (Pair { Elt "1" "one" } { Elt "2" "two" }) ]
  - location: 119 (remaining gas: 1039936.929 units remaining)
    [ { Elt "1" "one" }
      { Elt "2" "two" } ]
  - location: 110 (remaining gas: 1039936.904 units remaining)
    [ { Pair "3" "three" }
      { Elt "1" "one" }
      { Elt "2" "two" } ]
  - location: 120 (remaining gas: 1039936.904 units remaining)
    [ (Pair "3" "three")
      { Elt "1" "one" }
      { Elt "2" "two" } ]
  - location: 122 (remaining gas: 1039936.894 units remaining)
    [ "3"
      "three"
      { Elt "1" "one" }
      { Elt "2" "two" } ]
  - location: 123 (remaining gas: 1039936.894 units remaining)
    [ "three"
      { Elt "1" "one" }
      { Elt "2" "two" } ]
  - location: 125 (remaining gas: 1039936.884 units remaining)
    [ (Some "three")
      { Elt "1" "one" }
      { Elt "2" "two" } ]
  - location: 123 (remaining gas: 1039936.859 units remaining)
    [ "3"
      (Some "three")
      { Elt "1" "one" }
      { Elt "2" "two" } ]
  - location: 126 (remaining gas: 1039936.135 units remaining)
    [ { Elt "1" "one" ; Elt "3" "three" }
      { Elt "2" "two" } ]
  - location: 120 (remaining gas: 1039936.120 units remaining)
    [ { Elt "1" "one" ; Elt "3" "three" }
      { Elt "2" "two" } ]
  - location: 127 (remaining gas: 1039936.110 units remaining)
    [ (Pair { Elt "1" "one" ; Elt "3" "three" } { Elt "2" "two" }) ]
  - location: 128 (remaining gas: 1039936.100 units remaining)
    [ (Left (Pair { Elt "1" "one" ; Elt "3" "three" } { Elt "2" "two" })) ]
  - location: 108 (remaining gas: 1039936.085 units remaining)
    [ (Left (Pair { Elt "1" "one" ; Elt "3" "three" } { Elt "2" "two" })) ]
  - location: 65 (remaining gas: 1039936.070 units remaining)
    [ (Left (Pair { Elt "1" "one" ; Elt "3" "three" } { Elt "2" "two" })) ]
  - location: 60 (remaining gas: 1039936.055 units remaining)
    [ (Left (Pair { Elt "1" "one" ; Elt "3" "three" } { Elt "2" "two" })) ]
  - location: 44 (remaining gas: 1039936.040 units remaining)
    [ (Left (Pair { Elt "1" "one" ; Elt "3" "three" } { Elt "2" "two" })) ]
  - location: 151 (remaining gas: 1039936.030 units remaining)
    [ {}
      (Left (Pair { Elt "1" "one" ; Elt "3" "three" } { Elt "2" "two" })) ]
  - location: 153 (remaining gas: 1039936.020 units remaining)
    [ (Pair {} (Left (Pair { Elt "1" "one" ; Elt "3" "three" } { Elt "2" "two" }))) ]


./octez-client --mode mockup run script michelson_test_scripts/mini_scenarios/big_map_magic.tz on storage '(Left (Pair { Elt "1" "one" } { Elt "2" "two" }))' and input '(Right (Right (Right (Right { "1" }))))' --trace-stack
storage
  (Left (Pair 4 5))
emitted operations
  
big_map diff
  New map(5) of type (big_map string string)
  Set map(5)["2"] to "two"
  New map(4) of type (big_map string string)
  Unset map(4)["1"]
trace
  - location: 43 (remaining gas: 1039937.228 units remaining)
    [ (Pair (Right (Right (Right (Right { "1" }))))
            (Left (Pair { Elt "1" "one" } { Elt "2" "two" }))) ]
  - location: 43 (remaining gas: 1039937.218 units remaining)
    [ (Right (Right (Right (Right { "1" }))))
      (Left (Pair { Elt "1" "one" } { Elt "2" "two" })) ]
  - location: 44 (remaining gas: 1039937.218 units remaining)
    [ (Right (Right (Right { "1" })))
      (Left (Pair { Elt "1" "one" } { Elt "2" "two" })) ]
  - location: 60 (remaining gas: 1039937.218 units remaining)
    [ (Right (Right { "1" }))
      (Left (Pair { Elt "1" "one" } { Elt "2" "two" })) ]
  - location: 65 (remaining gas: 1039937.218 units remaining)
    [ (Right { "1" })
      (Left (Pair { Elt "1" "one" } { Elt "2" "two" })) ]
  - location: 108 (remaining gas: 1039937.218 units remaining)
    [ { "1" }
      (Left (Pair { Elt "1" "one" } { Elt "2" "two" })) ]
  - location: 131 (remaining gas: 1039937.218 units remaining)
    [ (Left (Pair { Elt "1" "one" } { Elt "2" "two" })) ]
  - location: 134 (remaining gas: 1039937.218 units remaining)
    [ (Pair { Elt "1" "one" } { Elt "2" "two" }) ]
  - location: 134 (remaining gas: 1039937.203 units remaining)
    [ (Pair { Elt "1" "one" } { Elt "2" "two" }) ]
  - location: 140 (remaining gas: 1039937.193 units remaining)
    [ { Elt "1" "one" }
      { Elt "2" "two" } ]
  - location: 131 (remaining gas: 1039937.168 units remaining)
    [ { "1" }
      { Elt "1" "one" }
      { Elt "2" "two" } ]
  - location: 141 (remaining gas: 1039937.168 units remaining)
    [ "1"
      { Elt "1" "one" }
      { Elt "2" "two" } ]
  - location: 143 (remaining gas: 1039937.168 units remaining)
    [ { Elt "1" "one" }
      { Elt "2" "two" } ]
  - location: 145 (remaining gas: 1039937.158 units remaining)
    [ None
      { Elt "1" "one" }
      { Elt "2" "two" } ]
  - location: 143 (remaining gas: 1039937.133 units remaining)
    [ "1"
      None
      { Elt "1" "one" }
      { Elt "2" "two" } ]
  - location: 147 (remaining gas: 1039936.409 units remaining)
    [ {}
      { Elt "2" "two" } ]
  - location: 141 (remaining gas: 1039936.394 units remaining)
    [ {}
      { Elt "2" "two" } ]
  - location: 148 (remaining gas: 1039936.384 units remaining)
    [ (Pair {} { Elt "2" "two" }) ]
  - location: 149 (remaining gas: 1039936.374 units remaining)
    [ (Left (Pair {} { Elt "2" "two" })) ]
  - location: 108 (remaining gas: 1039936.359 units remaining)
    [ (Left (Pair {} { Elt "2" "two" })) ]
  - location: 65 (remaining gas: 1039936.344 units remaining)
    [ (Left (Pair {} { Elt "2" "two" })) ]
  - location: 60 (remaining gas: 1039936.329 units remaining)
    [ (Left (Pair {} { Elt "2" "two" })) ]
  - location: 44 (remaining gas: 1039936.314 units remaining)
    [ (Left (Pair {} { Elt "2" "two" })) ]
  - location: 151 (remaining gas: 1039936.304 units remaining)
    [ {}
      (Left (Pair {} { Elt "2" "two" })) ]
  - location: 153 (remaining gas: 1039936.294 units remaining)
    [ (Pair {} (Left (Pair {} { Elt "2" "two" }))) ]

